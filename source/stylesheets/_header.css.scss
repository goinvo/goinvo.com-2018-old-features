/************************************
 **  Main Menu
 ************************************/
@import "base/colors";
@import "base/type";

$header-height: 55px;
$mobile-nav-breakpoint-min: 768px;
$mobile-nav-breakpoint-max: 767px;
$c-main-nav-background: rgb(18,18,18);

body.mobile-nav-open {
	position: fixed;
	width: 100%;
	overflow-y: hidden;
}

.main-header {
	position: fixed;
	top: 0;
	left: 0;
	display: flex;
	justify-content: space-between;
	width: 100%;
	height: 100%;
	max-height: $header-height;
	padding: 15px 2rem;
	font-size: 1.5rem;
	color: white;
	background-color: $c-main-nav-background;
	overflow: hidden;
	z-index: 3000;
	//Fix for OSX Font Rendering on Dark BG's
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	transition: max-height 250ms;

	a {
		display: flex;
		align-items: center;
		color: $white;
		font-size: 1.25rem;
	}

	&.mobile-nav-open {
		flex-direction: column;
		height: 100%;
		max-height: 100%;
		padding: 15px 2rem 0;
		transition: max-height 250ms;

		.nav-content {
			flex: none;
		}
		.nav-partial {
			opacity: 0;
			pointer-events: none;
		}
		.nav-full {
			display: flex;
			flex-direction: column;
			flex: 1;

			a {
				display: flex;
				align-items: center;
				flex: 1;
				transform: translateX(-10px);

				&.nav-visible {
					opacity: 1;
					transform: translateX(0);
				}
			}
		}
	}

	@media only screen and (min-width: $mobile-nav-breakpoint-min) {
		.nav-main {
			flex: auto;
		}
		.nav-partial,
		.nav-hamburger {
			display: none;
		}

		.nav-full {
			display: block;

			> a {
				display: inline;
				opacity: 1;
			}
		}
	}
}
.nav-content {
	display: flex;
	justify-content: space-between;
	flex: 1;

	> a.nav-button {
		padding: 0 10px;
		opacity: 1;
		transition: opacity 250ms;
	}
}
.nav-full {
	display: none;

	> a {
		opacity: 0;
		pointer-events: 0;
		padding: 0 10px;
		transition: opacity 200ms, transform 200ms;
	}
}
.header-logo > svg {
	margin-top: -3px;
	fill: $white;
}
.nav-hamburger {
	cursor: pointer;

	> svg {
		width: 25px;
		height: 25px;
		fill: $white;
	}
}

.sub-header {
	position: fixed;
	top: 55px;
	background-color: $c-main-nav-background;
	transition: height 300ms ease-in-out;
	z-index: 2999;
}
.sub-header.studio-header {
	display: flex;
	width: 100%;
	padding-bottom: 10px;

	a {
		flex: 1;
		padding: 0 5px;
	}
}
.studio-head-item {
	position: relative;
	border-radius: 3px;
	overflow: hidden;
	cursor: pointer;
	transform: translate3d(0, 0, 0);

	@media only screen and (min-width: $mobile-nav-breakpoint-min) {
		height: 50px;
	}

	.image-box {
		height: 100%;
		transform: scale(1,1);
		background-size: cover;
		background-repeat: no-repeat;
		background-position: center center;
		transition: transform 300ms ease-in-out;

		@media only screen and (max-width: $mobile-nav-breakpoint-max) {
			display: none;
		}
	}

	&:hover {
		.image-box {
			transform: scale(1.03, 1.03);
		}
	}

	&#team .image-box{
		background-image: image-url('studio-nav/team.png');
	}

	&#careers .image-box{
		background-image: image-url('studio-nav/careers.png');
	}

	&#live .image-box{
		background-image: image-url('studio-nav/live.png');
	}

	&#open-office-hours .image-box{
		background-image: image-url('studio-nav/open-office-hours.jpg');
	}

	&#history .image-box{
		background-image: image-url('studio-nav/history.png');
	}

	.studio-title {
		color: $white;
		transform: scale(1,1);
		transition: 300ms ease-in-out;
		white-space: nowrap;
		text-align: center;

		@media only screen and (min-width: $mobile-nav-breakpoint-min) {
			position: absolute;
			bottom: 5px;
			left: 10px;
			font-size: 1.3em;
		}
	}
}
.active-studio {
	.studio-head-item {
		border: 2px solid white;

		@media (max-width: $mobile-nav-breakpoint-max) {
			border: none;

			.studio-title {
				text-decoration: underline;
			}
		}
	}
}
