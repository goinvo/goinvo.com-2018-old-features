//This js file is run on every page

//= require lodash/dist/lodash

//= require jquery

//= require vendor/jquery.sparkline.js
//= require vendor/tether.js
//= require vendor/masonry.min.js
//= require vendor/mousetrap.js
//= require base/ui.js
//= require fitvids.js
//= require unslider.js

$(document).ready(function(){
	$('.video-box').fitVids();
	
	var govtSlider = $('#govtSlider').unslider();
	$('.unslider-arrow').click(function(event) {
		event.preventDefault();
		if ($(this).hasClass('next')) {
			govtSlider.data('unslider').next();
		} else {
			govtSlider.data('unslider').prev();
		};
	});

	var voteSlider = $('#votingSlider').unslider();
	$('.votingSlides .visualNav .unslider-button').click(function(event) {
		event.preventDefault();
		buttonClass = $(this).attr('class');
		slideNumber = buttonClass.replace( /^\D+/g, '');
		voteSlider.data('unslider').move(parseInt(slideNumber));
	});
});

//fix for problem where '/v01/' is missing in the url
var currentURL = 'http://code.goinvo.com/v01/';

//binds keys to navigation links in the header using the Mousetrap library
Mousetrap.bind('w', function () {
	window.location.href = currentURL + 'work';
});

Mousetrap.bind('s', function () {
	window.location.href = currentURL + 'studio';
});

Mousetrap.bind('t', function () {
	window.location.href = currentURL + 'team';
});

Mousetrap.bind('a', function () {
	window.location.href = currentURL + '#';
});

Mousetrap.bind('c', function () {
	window.location.href = currentURL + 'contact';
});

Mousetrap.bind('a c', function () {
	window.location.href = currentURL + 'careers';
});
